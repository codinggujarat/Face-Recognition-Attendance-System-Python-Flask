<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Admin Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <link
        href="https://api.fontshare.com/v2/css?f[]=general-sans@200,300,400,500,700&f[]=clash-grotesk@200,300,400,700&f[]=chillax@200,400,500,700&f[]=panchang@200,300,400,500,600&f[]=poppins@100,200,300&f[]=quicksand@300,400,500&display=swap"
        rel="stylesheet">
    <!-- Library / Plugin Css Build -->
    <link rel="stylesheet" href="/static/assets/css/core/libs.min.css" />

    <!-- Aos Animation Css -->
    <link rel="stylesheet" href="/static/assets/vendor/aos/dist/aos.css" />

    <!-- Campus Connect Design System Css -->
    <link rel="stylesheet" href="/static/assets/css/hope-ui.min.css?v=2.0.0" />

    <!-- Custom Css -->
    <link rel="stylesheet" href="/static/assets/css/custom.min.css?v=2.0.0" />

    <!-- Dark Css -->
    <link rel="stylesheet" href="/static/assets/css/dark.min.css" />

    <!-- Customizer Css -->
    <link rel="stylesheet" href="/static/assets/css/customizer.min.css" />
    <!-- RTL Css -->
    <link rel="stylesheet" href="/static/assets/css/rtl.min.css" />
    <style>
        .nav-item,
        button {
            background: white !important;
            text-transform: uppercase;
        }

        .nav-item .nav-link:hover {
            color: #000 !important;
            background: white !important;

        }

        .logo-title {
            color: #000 !important;
            font-family: 'chillax', sans-serif !important;
            text-transform: capitalize !important;
            font-size: 30px !important;
            font-weight: bold;
            text-align: center;

        }

        .nav-item button span {
            color: #000 !important;
            font-family: 'Raleway', sans-serif !important;
            text-transform: uppercase !important;
            font-size: 12px !important;
            font-weight: bold;
        }

        .nav-item a span {
            font-weight: bold;
            color: #000 !important;
            font-family: 'Raleway', sans-serif !important;
            text-transform: uppercase !important;
            font-size: 12px !important;
        }

        .logout a {
            background-color: #000 !important;
            color: #fff !important;
        }

        .nav-item.logout a:hover {
            background-color: #000 !important;
            color: #fff !important;
        }

        /* CaptureFaces */
        .CaptureFaces img {
            max-width: 600px;
            width: 100%;
        }

        /* form input style */
        form .dbl-field {
            display: block;
            margin-bottom: 25px;
            justify-content: space-between;
        }

        .dbl-field .field {
            margin-bottom: 20px;
            height: 50px;
            display: flex;
            position: relative;
            width: calc(100%);
        }

        .wrapper-main form i,
        .wrapper-main form svg {
            position: absolute;
            top: 50%;
            left: 18px;
            color: #555;
            font-size: 17px;
            pointer-events: none;
            transform: translateY(-50%);
        }

        form .field input,
        form .field select,
        form .message textarea {
            width: 100%;
            height: 100%;
            outline: none;
            padding: 0 18px 0 48px;
            font-size: 16px;
            border-radius: 0;
            border: 0 solid #555;
            border: 1px solid #555;
        }

        .field input::placeholder,
        .message textarea::placeholder {
            color: #555;
        }

        .field input:focus,
        .message textarea:focus {
            padding-left: 47px;
            border: 2px solid #555;
        }

        .field input:focus~i,
        .message textarea:focus~i {
            color: #000;
        }

        form .message {
            position: relative;
        }

        form .message i {
            top: 30px;
            font-weight: 100;
            font-size: 20px;
        }

        form .message textarea {
            max-width: 100%;
            min-width: 100%;
            padding: 15px 20px 0 48px;
        }

        form .message textarea::-webkit-scrollbar {
            width: 0px;
        }

        .message textarea:focus {
            padding-top: 14px;
        }

        form .button-area {
            margin: 25px 0;
            display: flex;
            align-items: center;
        }


        .btn {
            display: flex !important;
            align-items: center !important;
            justify-content: space-between !important;
            text-transform: uppercase !important;
            background: #000 !important;
            font-weight: normal !important;
            color: #fff !important;
            font-size: 12px !important;
            padding: 14px 20px !important;
        }

        .btn:hover {
            background: #000 !important;
            color: #fff !important;
        }

        .input-field-login {
            position: relative;
        }



        .input-field-login select option {
            color: #000 !important;
            font-size: 12px !important;
            pointer-events: none !important;
            transition: 0.3s !important;
            text-transform: uppercase !important;
            font-family: 'Poppins', sans-serif !important;
            font-weight: 400;
        }

        .input-field-login .rating1 span {
            color: #000 !important;
            font-size: 12px !important;
            pointer-events: none !important;
            transition: 0.3s !important;
            text-transform: uppercase !important;
            font-family: 'Poppins', sans-serif !important;
            font-weight: 400;
        }

        .input-field-login label {
            position: absolute;
            top: 50%;
            left: 50px;
            transform: translateY(-50%);
            color: #000;
            font-size: 12px;
            pointer-events: none;
            transition: 0.3s;
            text-transform: uppercase;
            font-family: 'Poppins', sans-serif !important;
            font-weight: 400;
        }


        input:focus,
        textarea:focus {
            border: 2px solid #000;
        }

        select:focus~label,
        input:focus~label,
        textarea:focus~label,
        select:valid~label,
        input:valid~label,
        textarea:valid~label {
            top: 0;
            left: 15px;
            font-size: 12px;
            padding: 0 2px;
            background: #fff;
            color: #000;
        }

        .noallowtochage input {
            cursor: no-drop;
            background: #f2f3f8;
        }

        @media (max-width: 600px) {
            .wrapper-main header {
                text-align: center;
            }

            .wrapper-main form {
                margin: 35px 20px;
                width: 100%;
            }


            form .dbl-field {
                flex-direction: column;
                margin-bottom: 0px;
            }

            form .dbl-field .field {
                width: 100%;
                height: 45px;
                margin-bottom: 20px;
            }

            form .message textarea {
                resize: none;
            }

            form .button-area {
                margin-top: 20px;
                flex-direction: column;
            }

            .button-area button {
                width: 100%;
                padding: 11px 0;
                font-size: 16px;
            }

            .button-area span {
                margin: 20px 0 0;
                text-align: center;
            }

        }

        /* form title */


        /* form input style */
    </style>
</head>

<body>
    <aside class="sidebar sidebar-default sidebar-white sidebar-base navs-rounded-all ">
        <div class="sidebar-header d-flex align-items-center justify-content-center">
            <a href="/" class="navbar-brand">
                <!--Logo start-->
                <!--logo End-->

                <!--Logo start-->
                <div class="logo-main">
                    <div class="logo-normal">

                    </div>
                    <div class="logo-mini">
                        <!-- -->
                    </div>
                </div>
                <!--logo End-->
                <h4 class="logo-title">AttendAI</h4>
            </a>
            <div class="sidebar-toggle bg-black" data-toggle="sidebar" data-active="true">
                <i class="icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4.25 12.2744L19.25 12.2744" stroke="currentColor" stroke-width="1.5"
                            stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M10.2998 18.2988L4.2498 12.2748L10.2998 6.24976" stroke="currentColor"
                            stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </i>
            </div>
        </div>
        <div class="sidebar-body pt-0 data-scrollbar">
            <div class="sidebar-list">
                <!-- Sidebar Menu Start -->
                <ul class="navbar-nav iq-main-menu" id="sidebar-menu">
                    <li class="nav-item static-item">
                        <a class="nav-link static-item disabled" href="#" tabindex="-1">
                            <span class="default-icon">steps</span>
                            <span class="mini-icon">-</span>
                        </a>
                    </li>
                    <li class="nav-item mt-2">
                        <a class="nav-link " target="_self" href="/train_model">
                            <i class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="me-1" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="3"></circle>
                                    <path
                                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" />
                                </svg>

                            </i>
                            <span class="item-name">Retrain Model</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/start_attendance" target="_self" class="nav-link ">
                            <i class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="me-1" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polygon points="10 8 16 12 10 16 10 8"></polygon>
                                </svg>

                            </i>
                            <span class="item-name">Start Attendance</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/stop_attendance" class="nav-link">
                            <i class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="me-1" viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <rect x="9" y="9" width="6" height="6"></rect>
                                </svg>
                            </i>
                            <span class="item-name">
                                Stop Attendance
                            </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/export_excel" class="nav-link">
                            <i class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="me-1" viewBox="0 0 24 24">
                                    <!-- Document shape -->
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"></path>
                                    <!-- Folded corner -->
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                    <!-- Down arrow -->
                                    <line x1="12" y1="13" x2="12" y2="21"></line>
                                    <polyline points="9 18 12 21 15 18"></polyline>
                                </svg>
                            </i>
                            <span class="item-name">
                                Export to Excel
                            </span>
                        </a>
                    </li>
                </ul>
                <!-- Sidebar Menu End -->
            </div>
        </div>
    </aside>
    <main class="main-content ">

        <nav class="nav navbar navbar-expand-lg bg-white navbar-light iq-navbar">
            <div class="container-fluid navbar-inner">
                <a href="/admin-dashboard" class="navbar-brand">
                    <!--Logo start-->
                    <div class="logo-main">
                        <div class="logo-normal">

                        </div>
                        <div class="logo-mini">

                        </div>
                    </div>
                    <!--logo End-->
                    <h4 class="logo-title">Campus Connect</h4>
                </a>
                <div class="sidebar-toggle bg-black" data-toggle="sidebar" data-active="true">
                    <i class="icon ">
                        <svg width="20px" class="icon-20" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" />
                        </svg>
                    </i>
                </div>
                <div class="input-group search-input mt-5">

                </div>
            </div>
        </nav>
        <div class="position-relative iq-banner">
            <div class="iq-navbar-header" style="height: 250px;">
                <div class="container-fluid iq-container">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="flex-wrap d-flex justify-content-between align-items-center  ">
                                <div>
                                    <h1>Face Recognition Attendance System - Admin Dashboard</h1>
                                    <p>Automated Face Recognition Attendance System using Python and OpenCV. Capture
                                        faces, train the model, and track
                                        attendance in real-time with Excel export.</p>
                                </div>
                                <div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="iq-header-img h-70 ">
                    <img src="/static/banner/hero.jpg" alt="header"
                        class="theme-color-default-img img-fluid w-100 h-100 animated-scaleX">
                </div>
            </div>
        </div>
        <div class="conatiner-fluid content-inner mt-5 py-0">
            <div>
                <div class="row mt-5">
                    <div class="col-lg-6 col-md-6 mt-5">
                        <div class="card shadow-sm border-0">
                            <div class="card-body p-2 text-center">
                                <img src="{{ url_for('video_feed') }}" class="img-fluid rounded webcam-feed"
                                    alt="Webcam Feed">
                            </div>
                            <div class="card-footer text-center">
                                <form action="/start_capture" method="post" class="d-flex justify-content-center gap-2">
                                    <input type="text" name="name" placeholder="Enter name"
                                        class="form-control form-control-sm" required>
                                    <button class="btn btn-primary btn-sm">Start</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="card ">
                        <div class="card-header d-flex justify-content-between">
                            <div class="header-title">
                                <h4 class="mt-4">Attendance Records</h4>
                            </div>
                        </div>
                        <div class="table-responsive card-body">

                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for row in tables %}
                                    <tr>
                                        <td>{{ row.Name }}</td>
                                        <td>{{ row.Date }}</td>
                                        <td>{{ row.Time }}</td>
                                        <td>
                                            <form action="/delete_attendance/{{ row.Name }}" method="post">
                                                <button class="border-0 outline-0 bg-transprant fw-bold"
                                                    onclick="return confirm('Delete attendance for {{ row.Name }}?');">
                                                    <i class='bx bx-trash'></i>
                                                </button>
                                            </form>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Library Bundle Script -->
    <script src="/static/assets/js/core/libs.min.js"></script>

    <!-- External Library Bundle Script -->
    <script src="/static/assets/js/core/external.min.js"></script>

    <!-- Widgetchart Script -->
    <script src="/static/assets/js/charts/widgetcharts.js"></script>

    <!-- mapchart Script -->
    <script src="/static/assets/js/charts/vectore-chart.js"></script>
    <script src="/static/assets/js/charts/dashboard.js"></script>

    <!-- fslightbox Script -->
    <script src="/static/assets/js/plugins/fslightbox.js"></script>

    <!-- Settings Script -->
    <script src="/static/assets/js/plugins/setting.js"></script>

    <!-- Slider-tab Script -->
    <script src="/static/assets/js/plugins/slider-tabs.js"></script>

    <!-- Form Wizard Script -->
    <script src="/static/assets/js/plugins/form-wizard.js"></script>

    <!-- AOS Animation Plugin-->
    <script src="/static/assets/vendor/aos/dist/aos.js"></script>

    <!-- App Script -->
    <script src="/static/assets/js/hope-ui.js" defer></script>

</body>

</html>